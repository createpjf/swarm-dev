# config/agents.yaml

llm:
  provider: minimax
memory:
  backend: hybrid
  long_term: true
  episodic:
    enabled: true
    recall_budget_tokens: 1500
  knowledge_base:
    enabled: true
    recall_budget_tokens: 800
chain:
  enabled: true
  network: base
  rpc_url_env: BASE_RPC_URL
  operator_key_env: CHAIN_PRIVATE_KEY
  lit:
    network: naga-dev
  erc8004:
    identity_registry_env: ERC8004_IDENTITY_REGISTRY
    reputation_registry_env: ERC8004_REPUTATION_REGISTRY
  safe:
    address_env: GNOSIS_SAFE_ADDRESS
  x402:
    enabled: false
    facilitator_url: https://x402.coinbase.com
    max_payment_usd: '0.10'
  reputation_sync:
    enabled: true
    min_score_delta: 5.0
    max_writes_per_hour: 10
reputation:
  peer_review_agents:
  - alic
  evolution:
    prompt_auto_apply: true
    model_swap_require_confirm: true
    role_vote_threshold: 0.6
channels:
  telegram:
    enabled: true
    bot_token_env: TELEGRAM_BOT_TOKEN
    allowed_users: []
    mention_required: true
  discord:
    enabled: false
    bot_token_env: DISCORD_BOT_TOKEN
    allowed_channels: []
    mention_required: true
  feishu:
    enabled: false
    app_id_env: FEISHU_APP_ID
    app_secret_env: FEISHU_APP_SECRET
  slack:
    enabled: false
    bot_token_env: SLACK_BOT_TOKEN
    app_token_env: SLACK_APP_TOKEN
    allowed_channels: []
    mention_required: true
workspace:
  path: workspace
  shared: true
max_idle_cycles: 30
resilience:
  max_retries: 3
  base_delay: 1.0
  max_delay: 30.0
  jitter: 0.5
  circuit_breaker_threshold: 3
  circuit_breaker_cooldown: 120
compaction:
  enabled: true
  max_context_tokens: 10000
  summary_target_tokens: 1500
  keep_recent_turns: 4
agents:
- id: leo
  role: 'You are Leo, the team BRAIN and orchestrator of the Cleo system. You receive
    every task directly from the user, decompose it into clear subtasks, and delegate
    to Jerry. You synthesize ALL results + Alic''s evaluation into ONE polished, complete,
    user-facing answer during closeout.

    Phase 1 (Decomposition): Write TASK: <description> + COMPLEXITY: simple|normal|complex.
    Max 3 subtasks. Merge related steps if needed.

    Phase 2 (Closeout): Synthesize ALL executor results + reviewer feedback into ONE
    polished, complete, user-facing answer. This is the most important step.

    You NEVER execute commands yourself. ALL execution goes to Jerry via TASK: lines.
    Even simple one-step tasks (reminders, notes, lookups) must be delegated to Jerry.
    Your only job is: decompose → delegate → synthesize.

    用中文回复用户。'
  model: MiniMax-M2.5-highspeed
  fallback_models:
  - MiniMax-M2.5
  - MiniMax-M2.1
  skills:
  - 1password
  - brainstorming
  - _base
  - apple-notes
  - apple-reminders
  - bear-notes
  - blogwatcher
  - blucli
  - bluebubbles
  - camsnap
  - canvas
  - clawhub
  - coding-agent
  - discord
  - eightctl
  - food-order
  - gemini
  - gh-issues
  - gifgrep
  - github
  - gog
  - goplaces
  - healthcheck
  - himalaya
  - imsg
  - mcporter
  - model-usage
  - nano-banana-pro
  - nano-pdf
  - notion
  - obsidian
  - openai-image-gen
  - openai-whisper-api
  - openai-whisper
  - openhue
  - oracle
  - ordercli
  - peekaboo
  - planning
  - review
  - sag
  - session-logs
  - sherpa-onnx-tts
  - skill-creator
  - slack
  - songsee
  - sonoscli
  - spotify-player
  - summarize
  - things-mac
  - tmux
  - trello
  - video-frames
  - voice-call
  - wacli
  - weather
  tools:
    profile: minimal
  memory:
    short_term_turns: 20
    long_term: true
    recall_top_k: 3
    episodic_recall_budget: 1500
    kb_recall_budget: 800
  autonomy_level: 1
  llm:
    provider: minimax
    api_key_env: LEO_API_KEY
    base_url_env: LEO_BASE_URL
- id: jerry
  role: 'You are Jerry, the implementation agent of the Cleo system. You carry out
    atomic subtasks assigned by Leo and return RAW results (code, data, analysis).

    Leo synthesizes your output into the final user-facing answer. You MUST NOT plan,
    decompose, or break down tasks — that is Leo''s job.

    Write clean, working code with step-by-step reasoning. Use tools when needed.
    No placeholders. No stubs. Deliver production-ready output.

    用中文回复用户。'
  model: minimax-m2.5
  fallback_models:
  - MiniMax-M2.5
  - MiniMax-M2.1
  skills:
  - _base
  - coding
  - copywriting
  - 1password
  - apple-notes
  - apple-reminders
  - bear-notes
  - blogwatcher
  - blucli
  - bluebubbles
  - camsnap
  - canvas
  - clawhub
  - coding-agent
  - discord
  - eightctl
  - food-order
  - gemini
  - gh-issues
  - gifgrep
  - github
  - gog
  - goplaces
  - healthcheck
  - himalaya
  - imsg
  - mcporter
  - model-usage
  - nano-banana-pro
  - nano-pdf
  - notion
  - obsidian
  - openai-image-gen
  - openai-whisper-api
  - openai-whisper
  - openhue
  - oracle
  - ordercli
  - peekaboo
  - planning
  - review
  - sag
  - session-logs
  - sherpa-onnx-tts
  - skill-creator
  - slack
  - songsee
  - sonoscli
  - spotify-player
  - summarize
  - things-mac
  - tmux
  - trello
  - video-frames
  - voice-call
  - wacli
  - weather
  - superpowers
  tools:
    profile: coding
  memory:
    short_term_turns: 20
    long_term: true
    recall_top_k: 3
    episodic_recall_budget: 2000
    kb_recall_budget: 800
  autonomy_level: 1
  llm:
    provider: minimax
    api_key_env: JERRY_API_KEY
    base_url_env: JERRY_BASE_URL
- id: alic
  role: 'You are Alic, the quality advisor of the Cleo system. Score subtask outputs
    1-10 using HLE-based dimensions (Accuracy 30%, Calibration 20%, Completeness 20%,
    Technical Quality 20%, Resource Usage 10%).

    You are an ADVISOR, not a gatekeeper — you NEVER block tasks from completing.
    Leo reads your scores/suggestions during final synthesis.

    Respond with: {"score": <1-10>, "comment": "...", "suggestions": ["optional"]}

    Omit suggestions if score >= 8. Max 3 suggestions. 用中文回复用户。'
  model: minimax-m2.5
  fallback_models:
  - MiniMax-M2.5
  - MiniMax-M2.1
  skills:
  - _base
  - review
  - copywriting
  - 1password
  - apple-notes
  - apple-reminders
  - bear-notes
  - blogwatcher
  - blucli
  - bluebubbles
  - camsnap
  - canvas
  - clawhub
  - coding-agent
  - discord
  - eightctl
  - food-order
  - gemini
  - gh-issues
  - gifgrep
  - github
  - gog
  - goplaces
  - healthcheck
  - himalaya
  - imsg
  - mcporter
  - model-usage
  - nano-banana-pro
  - nano-pdf
  - notion
  - obsidian
  - openai-image-gen
  - openai-whisper-api
  - openai-whisper
  - openhue
  - oracle
  - ordercli
  - peekaboo
  - planning
  - sag
  - session-logs
  - sherpa-onnx-tts
  - skill-creator
  - slack
  - songsee
  - sonoscli
  - spotify-player
  - summarize
  - things-mac
  - tmux
  - trello
  - video-frames
  - voice-call
  - wacli
  - weather
  memory:
    short_term_turns: 20
    long_term: true
    recall_top_k: 3
    episodic_recall_budget: 1000
    kb_recall_budget: 1000
  autonomy_level: 1
  llm:
    provider: minimax
    api_key_env: ALIC_API_KEY
    base_url_env: ALIC_BASE_URL
